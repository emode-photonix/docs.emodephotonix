
FEM
---

.. data:: heat
    
    Run a steady-state thermal simulation of a waveguide cross-section.

    .. warning::
        This function is only available under beta release. Please report any issues or bugs.

    .. note::
        Each ``shape()`` now accepts an input parameter called ``heat_only`` (default: False), which can be used to set additional shapes on top or bottom of the photonic layer stack. For example, common ``heat_only`` shapes are the substrate and metal heater layers.

        Each ``shape()`` also now accepts an input parameter called ``fem_resolution`` (default: 0), which is used to refine the triangular mesh within certain shapes.

        Each material in the EMode material database now has ``thermal_conductivity`` (W/m·K), ``resistivity`` (Ohm·nm), and ``dn_dT`` (1/K).
    
    :param float min_angle: Minimum angle for triangular mesh. Smaller values result in a finer mesh, but can prevent the meshing algorithm from converging. Default: 30.
    :param float boundary_temperature: Fixed temperature boundary condition in 'K' set along each perimeter indicated by ``boundaries``. Default: 298.
    :param list[str] boundaries:  'top', 'bottom', 'left', or 'right'; Indicates which boundaries are set to the fixed temperature ``boundary_temperature``. Default: ['bottom'].
    :param bool verbose: Control the display of the progress bar. Default: True.
    :param str simulation_name: Simulation name. Default: 'emode'.
    :return: A dictionary/struct with the mesh points (``p``), mesh triangles (``t``), ``temperature``, ``thermal_conductivity``, and ``heat_generation`` arrays. It also includes the ``boundary_temperature`` and ``boundaries`` settings.

.. data:: electrostatic
    
    Run a steady-state electrostatic simulation of a waveguide cross-section.

    .. warning::
        This function is only available under beta release. Please report any issues or bugs.

    .. note::
        Each ``shape()`` also now accepts an input parameter called ``voltage`` (default: 0), which is set to create electric field sources.

        Each ``shape()`` also now accepts an input parameter called ``fem_resolution`` (default: 0), which is used to refine the triangular mesh within certain shapes.
        
        Each material in the EMode material database now has ``eps_r_dc`` (relative permittivity at ~1 kHz).
    
    :param float min_angle: Minimum angle for triangular mesh. Smaller values result in a finer mesh, but can prevent the meshing algorithm from converging. Default: 30.
    :param bool verbose: Control the display of the progress bar. Default: True.
    :param str simulation_name: Simulation name. Default: 'emode'.
    :return: A dictionary/struct with the mesh points (``p``), mesh triangles (``t``), ``voltage``, and ``eps_dc_grid``.
