
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Solver and analysis</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=1240b27d" />
    <link rel="stylesheet" type="text/css" href="../_static/code-tabs.css?v=1bc26e2f" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=1240b27d" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/code-tabs.js?v=c983d12e"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'emodeguide/solver-analysis';</script>
    <link rel="icon" href="../_static/icon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="EME" href="eme.html" />
    <link rel="prev" title="Simulation setup" href="setup.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="EMode Photonix"/>
    <img src="../_static/logo-dark.png" class="logo__image only-dark pst-js-only" alt="EMode Photonix"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../installation.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../interface.html">
    Interface
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../emodeguide.html">
    EMode Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://www.emodephotonix.com/">
    Home
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../installation.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../interface.html">
    Interface
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../emodeguide.html">
    EMode Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://www.emodephotonix.com/">
    Home
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">EMode2D Functions</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="file-management.html">File management</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Simulation setup</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Solver and analysis</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">EMode3D Functions</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="eme.html">EME</a></li>
<li class="toctree-l1"><a class="reference internal" href="fem.html">FEM</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Glossaries</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="variables.html">Variable Descriptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="materials.html">Material Database</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../installation/release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/troubleshooting.html">Troubleshooting</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none"></div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="solver-and-analysis">
<h1>Solver and analysis</h1>
<dl class="py data">
<dt class="sig sig-object py" id="FDM">
<span class="sig-name descname"><span class="pre">FDM</span></span></dt>
<dd><p>Calculate the waveguide modes using the finite difference method. It automatically runs <code class="docutils literal notranslate"><span class="pre">EM_mesh</span></code> as needed (generating <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">permittivity</span></code>, and <code class="docutils literal notranslate"><span class="pre">permeability</span></code>). After solving the mode, the effective index (<code class="docutils literal notranslate"><span class="pre">effective_index</span></code>), mode propagation loss (<code class="docutils literal notranslate"><span class="pre">loss_dB_per_m</span></code>), and field components (<code class="docutils literal notranslate"><span class="pre">Fx</span></code>, <code class="docutils literal notranslate"><span class="pre">Fy</span></code>, <code class="docutils literal notranslate"><span class="pre">Ex</span></code>, <code class="docutils literal notranslate"><span class="pre">Ey</span></code>, <code class="docutils literal notranslate"><span class="pre">Ez</span></code>, <code class="docutils literal notranslate"><span class="pre">Hx</span></code>, <code class="docutils literal notranslate"><span class="pre">Hy</span></code>, <code class="docutils literal notranslate"><span class="pre">Hz</span></code>, <code class="docutils literal notranslate"><span class="pre">Sx</span></code>, <code class="docutils literal notranslate"><span class="pre">Sy</span></code>, <code class="docutils literal notranslate"><span class="pre">Sz</span></code>) are available, where the fields are normalized to the equation below.</p>
<div class="math notranslate nohighlight">
\[\frac{1}{2} \mathrm{Re} \iint \left( \vec E \times \vec H^* \right) \! \cdot \! \hat{z} \, \mathrm{d}x \, \mathrm{d}y = 1 \, \mathrm{W}\]</div>
<p>It also calculates the TE fraction of each mode (<code class="docutils literal notranslate"><span class="pre">TE_fraction</span></code>) with the following equation, and it saves the indices of the TE and TM modes (<code class="docutils literal notranslate"><span class="pre">TE_indices</span></code> and <code class="docutils literal notranslate"><span class="pre">TM_indices</span></code>).</p>
<div class="math notranslate nohighlight">
\[\mathrm{{TE_fraction}} = \frac{\iint \left| \vec E_\mathrm{x} \right|^2 \, \mathrm{d}x \, \mathrm{d}y}{\iint \left| \vec E_\mathrm{x} \right|^2 + \left| \vec E_\mathrm{y} \right|^2 \, \mathrm{d}x \, \mathrm{d}y}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>str</em>) – dataset label name to automatically create a dataset after running <code class="docutils literal notranslate"><span class="pre">FDM()</span></code>, no dataset is created if blank, default: ‘’</p></li>
<li><p><strong>mode_filter</strong> (<em>str</em>) – choose to filter the mode list for propagation direction of ‘forward’, ‘backward’, or ‘none’, default: ‘forward’</p></li>
<li><p><strong>force_isotropic</strong> (<em>bool</em>) – if an anisotropic material has been used, this will take the diagonal of the material tensor to make it isotropic.</p></li>
<li><p><strong>simulation_name</strong> (<em>str</em>) – simulation name, default: ‘emode’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="sweep">
<span class="sig-name descname"><span class="pre">sweep</span></span></dt>
<dd><p>This function sweeps a calculation as a function of any available setting, shape parameter, or section parameter (EMode<sup>3D</sup> only). Run a parameter sweep of <code class="docutils literal notranslate"><span class="pre">key</span></code> over defined <code class="docutils literal notranslate"><span class="pre">values</span></code> by solving <code class="docutils literal notranslate"><span class="pre">solve_type</span></code> for each value and saving a list of parameters defined by ‘result’ that correspond to the <code class="docutils literal notranslate"><span class="pre">values</span></code>. After running a sweep, the data will be available from a parameter called <code class="docutils literal notranslate"><span class="pre">sweep_data</span></code>, which includes all of the specified parameters of this funcion and the data specified by the <code class="docutils literal notranslate"><span class="pre">result</span></code> parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – any settings, shape, or section parameter that will have its value changed in the sweep, directly specify the key for settings parameters, specify ‘shape, SHAPE_NAME, SHAPE_KEY’ to specify shape the SHAPE_KEY of SHAPE_NAME, specify ‘section, SECTION_NAME, SECTION_KEY’ to specify the SECTION_KEY of SECTION_NAME</p></li>
<li><p><strong>values</strong> (<em>list</em><em> or </em><em>array</em>) – the values that define the <code class="docutils literal notranslate"><span class="pre">key</span></code> during the sweep</p></li>
<li><p><strong>solve_type</strong> (<em>str</em>) – either ‘Mesh’, ‘FDM’, or ‘EME’ to specify which solver to run at each sweep step, default: automatically chosen based on the <code class="docutils literal notranslate"><span class="pre">key</span></code> and <code class="docutils literal notranslate"><span class="pre">result</span></code> selection</p></li>
<li><p><strong>result</strong> (<em>str</em><em> or </em><em>list</em>) – the parameters to save from each iteration of the sweep.  This can be any value in the eph file.  Internally, this calls <code class="docutils literal notranslate"><span class="pre">get</span></code>, so if you can read the value with <code class="docutils literal notranslate"><span class="pre">get</span></code> you can collect it with <code class="docutils literal notranslate"><span class="pre">sweep</span></code>. default: ‘effective_index’</p></li>
<li><p><strong>simulation_name</strong> (<em>str</em>) – simulation name, default: ‘emode’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="confinement">
<span class="sig-name descname"><span class="pre">confinement</span></span></dt>
<dd><p>Calculate confinement factor of specified shape. By default, only the area of the shape that is used to define the refractive index profile is included in the confinement factor. For instance, if another shape with a higher priority overlaps the specified shape, the overlapped area is not included.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape_list</strong> – name (from <code class="docutils literal notranslate"><span class="pre">shape</span></code>) or list of names of shapes to include in confinement or ‘all’ for all shapes, default: ‘all’</p></li>
<li><p><strong>mode_list</strong> (<em>str</em><em> or </em><em>list</em>) – desired modes to calculate confinement, ‘all’, ‘TE’, ‘TM’, or a list of the desired mode indices, default: ‘all’</p></li>
<li><p><strong>vertices</strong> (<em>list</em><em> (</em><em>Nx2</em><em>)</em>) – list of vertices that define a closed polygon, specifying this parameter will override the <code class="docutils literal notranslate"><span class="pre">shape_list</span></code> input, default: None</p></li>
<li><p><strong>ignore_priority</strong> (<em>bool</em>) – toggle ignoring overlapped shapes with higher priority, default: False</p></li>
<li><p><strong>simulation_name</strong> (<em>str</em>) – simulation name, default: ‘emode’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="effective_area">
<span class="sig-name descname"><span class="pre">effective_area</span></span></dt>
<dd><p>Calculate the effective areas for all modes. After running this function, an array called <code class="docutils literal notranslate"><span class="pre">effective_area</span></code> will become available and <code class="docutils literal notranslate"><span class="pre">report</span></code> will display the effective areas.</p>
<div class="math notranslate nohighlight">
\[A_\mathrm{eff} = \frac{\left( \iint \left| \vec E \right|^2 \, \mathrm{d}x \, \mathrm{d}y \right)^2}{\iint \left| \vec E \right|^4 \, \mathrm{d}x \, \mathrm{d}y}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>simulation_name</strong> (<em>str</em>) – simulation name, default: ‘emode’</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="orthogonality">
<span class="sig-name descname"><span class="pre">orthogonality</span></span></dt>
<dd><p>Calculate the highest value of mode overlap between modes in the mode list. After running this function, a variable called <code class="docutils literal notranslate"><span class="pre">maximum_overlap</span></code> will become available either in the simulation data or in the labeled dataset if specified. Ideally, this value is less than <span class="math notranslate nohighlight">\(10^{-3}\)</span>, indicating an accurate mode list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>str</em>) – dataset label, default: ‘’</p></li>
<li><p><strong>simulation_name</strong> (<em>str</em>) – simulation name, default: ‘emode’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="group_index">
<span class="sig-name descname"><span class="pre">group_index</span></span></dt>
<dd><p>Calculate the group index for all modes. First, <code class="docutils literal notranslate"><span class="pre">group_index</span></code> runs <code class="docutils literal notranslate"><span class="pre">FDM</span></code> (if not already run), then it runs <code class="docutils literal notranslate"><span class="pre">FDM</span></code> a second time with 0.01 % longer wavelength to calculate the group index. After running this function, an array called <code class="docutils literal notranslate"><span class="pre">group_index</span></code> will become available and <code class="docutils literal notranslate"><span class="pre">report</span></code> will display the group index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>simulation_name</strong> (<em>str</em>) – simulation name, default: ‘emode’</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="report">
<span class="sig-name descname"><span class="pre">report</span></span></dt>
<dd><p>Display a simulation report table with information about each mode: mode number; effective index; TE fraction; loss (dB/m); confinement factors (if calculated); effective areas (if calculated).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>save</strong> (<em>bool</em>) – whether to save the table to a file or not, default: False</p></li>
<li><p><strong>file_name</strong> (<em>str</em>) – name of the file to save, default: ‘mode_report’</p></li>
<li><p><strong>file_type</strong> (<em>str</em>) – file type to save, ‘txt’, ‘latex’, or ‘csv’, default: ‘txt’</p></li>
<li><p><strong>simulation_name</strong> (<em>str</em>) – simulation name, default: ‘emode’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="label_profile">
<span class="sig-name descname"><span class="pre">label_profile</span></span></dt>
<dd><p>Creates a labeled dataset from the current settings and field data, saved as a Python dictionary or a MATLAB structure array called <code class="docutils literal notranslate"><span class="pre">dataset_NAME</span></code>. It can be used to run different simulations and compare the outputs. Also, it is used in conjunction with certain functions like <code class="docutils literal notranslate"><span class="pre">overlap</span></code> and <code class="docutils literal notranslate"><span class="pre">orthogonality</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – save the current simulation state to this name, default: ‘0’</p></li>
<li><p><strong>simulation_name</strong> (<em>str</em>) – simulation name, default: ‘emode’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="overlap">
<span class="sig-name descname"><span class="pre">overlap</span></span></dt>
<dd><p>Calculate overlap integral between two modes. The result is saved as <code class="docutils literal notranslate"><span class="pre">overlap</span></code>.</p>
<blockquote>
<div><p>Coldren, Larry A., Scott W. Corzine, and Milan L. Mashanovitch, ‘’Diode lasers and photonic integrated circuits,’’ John Wiley &amp; Sons, 2012.</p>
</div></blockquote>
<div class="math notranslate nohighlight">
\[\mathrm{overlap} = \frac{4 n_\mathrm{eff,1} n_\mathrm{eff,2}}{(n_\mathrm{eff,1} + n_\mathrm{eff,2})^2} \frac{\left| \iint \vec E_2^* \cdot \vec E_1 \, \mathrm{d}x \, \mathrm{d}y \right|^2}{\iint \left| \vec E_1 \right|^2 \, \mathrm{d}x \, \mathrm{d}y \, \iint \left| \vec E_2 \right|^2 \, \mathrm{d}x \, \mathrm{d}y}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label_a</strong> (<em>str</em>) – label of first mode set, or a blank string for the current mode set, default: ‘’</p></li>
<li><p><strong>mode_a</strong> (<em>int</em>) – mode number from the first mode set, default: 0</p></li>
<li><p><strong>simulation_name_a</strong> (<em>str</em>) – simulation name for the first mode set, default: ‘emode’</p></li>
<li><p><strong>label_b</strong> (<em>str</em>) – label of second mode set, or a blank string for the current mode set, default: ‘’</p></li>
<li><p><strong>mode_b</strong> (<em>int</em>) – mode number from the second mode set, default: 0</p></li>
<li><p><strong>simulation_name_b</strong> (<em>str</em>) – simulation name for the second mode set, default: ‘emode’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scattering">
<span class="sig-name descname"><span class="pre">scattering</span></span></dt>
<dd><p>Calculates the scattering loss from a specified shape and mode using the Volume Current Method [1]. Results are saved in the variables <code class="docutils literal notranslate"><span class="pre">SHAPE['scattering_vertical_edges']</span></code> (total loss from all vertical interfaces), <code class="docutils literal notranslate"><span class="pre">SHAPE['scattering_horizontal_edges']</span></code> (total loss from all horizontal interfaces), <code class="docutils literal notranslate"><span class="pre">SHAPE['scattering_sum']</span></code> (total scattering loss), <code class="docutils literal notranslate"><span class="pre">SHAPE['edges']</span></code> (list of edge points for calculating scattering loss), and <code class="docutils literal notranslate"><span class="pre">SHAPE['scattering_all_edges']</span></code> (scattering loss from corresponding edges). The fields are interpolated to the exact edge position along the interface.</p>
<p>[1] T. Barwicz and H. A. Haus, “Three-dimensional analysis of scattering losses due to sidewall roughness in microphotonic waveguides,” J. Lightwave Technol. 23, 2719 (2005).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<em>str</em>) – name of the shape for calculating the interfacial scattering, can also be a list of shapes or None (which calculates scattering for all shapes), default: None</p></li>
<li><p><strong>shapes</strong> (<em>str</em>) – alias for shape</p></li>
<li><p><strong>mode_list</strong> – mode number, list of mode numbers, or ‘all’, default: ‘all’</p></li>
<li><p><strong>simulation_name</strong> (<em>str</em>) – simulation name for the second mode set, default: ‘emode’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="plot">
<span class="sig-name descname"><span class="pre">plot</span></span></dt>
<dd><p>Interactive plot for the fields (if available), refractive index, and shapes, or saving a plot. Colorbars are in V/nm for the electric fields, A/nm for the magnetic fields, and W/nm for the Poynting vectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>component</strong> (<em>str</em>) – field component or index, ‘Ex/y/z’; ‘Hx/y/z’; ‘Sx/y/z’; ‘Index’; ‘Shapes’, default: ‘Ex’</p></li>
<li><p><strong>plot_function</strong> (<em>str</em>) – plotting function, ‘real’; ‘imag’; ‘abs’; ‘abs^2’; ‘log’, default: ‘real’</p></li>
<li><p><strong>mode</strong> (<em>int</em>) – mode number, default: 0</p></li>
<li><p><strong>aspect_ratio</strong> (<em>str</em><em> or </em><em>float</em>) – the height:width aspect ratio, ‘norm’ uses the normal aspect ratio of 0.707, ‘real’ uses the real aspect ratio defined by the simulation window, or a float specifies the aspect ratio, default: ‘norm’</p></li>
<li><p><strong>index_outline</strong> (<em>bool</em>) – setting index outline, default: True</p></li>
<li><p><strong>text_display</strong> (<em>bool</em>) – setting text display, default: True</p></li>
<li><p><strong>mesh_display</strong> (<em>bool</em>) – setting mesh display, default: False</p></li>
<li><p><strong>window_display</strong> (<em>bool</em>) – setting window display, default: False</p></li>
<li><p><strong>legend</strong> (<em>bool</em>) – setting inclusion of a legend on the index and shape plots, default: True</p></li>
<li><p><strong>file_name</strong> (<em>str</em>) – if specified, forces the function to save a file with the given parameters and will not display the interactive plot, file is saved under a directory called EM_figures, default: None</p></li>
<li><p><strong>file_type</strong> (<em>str</em>) – file type for saving a plot, ‘pdf’ or ‘png’, default: ‘pdf’</p></li>
<li><p><strong>simulation_name</strong> (<em>str</em>) – simulation name, default: ‘emode’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="material_explorer">
<span class="sig-name descname"><span class="pre">material_explorer</span></span></dt>
<dd><p>Interactive material explorer to plot the refractive indices of all available materials. The default wavelength range in the plot corresponds to the recommended range from the material reference listed below the plot. If wavelengths are specified outside this range, the model will be plotted with a dashed line instead of a solid line. User defined materials are also available.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>simulation_name</strong> (<em>str</em>) – simulation name, default: ‘emode’</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="refractive_index">
<span class="sig-name descname"><span class="pre">refractive_index</span></span></dt>
<dd><p>Returns the refractive index from a material name (retrieved from the internal reference list) or from a custom refractive index value. Optionally, the material’s reference (or citation) may be returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>material</strong> (<em>str</em>) – material name; for AlGaAs, the fraction of Al relative to Ga is included in the material name separated by a comma, for example: “AlGaAs, 0.2” for a Al_{0.2}Ga_{0.8}As.</p></li>
<li><p><strong>wavelength</strong> (<em>float</em>) – [nm] wavelength, default: 1550</p></li>
<li><p><strong>reference</strong> (<em>bool</em>) – additionally return the citation for the material, default: False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[n_x, n_y, n_z] or ([n_x, n_y, n_z], reference)</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="permeability">
<span class="sig-name descname"><span class="pre">permeability</span></span></dt>
<dd><p>Returns the relative permeability from a material name (retrieved from the internal reference list) or from a custom permeability value. Optionally, the material’s reference (or citation) may be returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>material</strong> (<em>str</em>) – material name</p></li>
<li><p><strong>wavelength</strong> (<em>float</em>) – [nm] wavelength, default: 1550</p></li>
<li><p><strong>reference</strong> (<em>bool</em>) – additionally return the citation for the material, default: False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[permeability_x, permeability_y, permeability_z] or ([permeability_x, permeability_y, permeability_z], reference)</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="mesh">
<span class="sig-name descname"><span class="pre">mesh</span></span></dt>
<dd><p>Generalized mesh tool for arbitrary shapes on a rectangular grid. This is called internally by <code class="docutils literal notranslate"><span class="pre">FDM</span></code> if it has not already been called by the user. Generates vertices for each shape, the actual refractive index for each shape, arrays to define the center points (<code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>) of the mesh grid, and the relative permittivity and permeability matrices (<code class="docutils literal notranslate"><span class="pre">permittivity</span></code> and <code class="docutils literal notranslate"><span class="pre">permeability</span></code>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>simulation_name</strong> (<em>str</em>) – simulation name, default: ‘emode’</p>
</dd>
</dl>
</dd></dl>

</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#FDM"><code class="docutils literal notranslate"><span class="pre">FDM</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sweep"><code class="docutils literal notranslate"><span class="pre">sweep</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#confinement"><code class="docutils literal notranslate"><span class="pre">confinement</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#effective_area"><code class="docutils literal notranslate"><span class="pre">effective_area</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#orthogonality"><code class="docutils literal notranslate"><span class="pre">orthogonality</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#group_index"><code class="docutils literal notranslate"><span class="pre">group_index</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#report"><code class="docutils literal notranslate"><span class="pre">report</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#label_profile"><code class="docutils literal notranslate"><span class="pre">label_profile</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overlap"><code class="docutils literal notranslate"><span class="pre">overlap</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#scattering"><code class="docutils literal notranslate"><span class="pre">scattering</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plot"><code class="docutils literal notranslate"><span class="pre">plot</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#material_explorer"><code class="docutils literal notranslate"><span class="pre">material_explorer</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#refractive_index"><code class="docutils literal notranslate"><span class="pre">refractive_index</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#permeability"><code class="docutils literal notranslate"><span class="pre">permeability</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mesh"><code class="docutils literal notranslate"><span class="pre">mesh</span></code></a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright EMode Photonix LLC. All rights reserved.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>